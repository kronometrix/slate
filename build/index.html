<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;php&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>API ver. 1.3</li>
            <li><a href='http://kronometrix.io'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>This is the place where you will find details about the accessible API provided by Kronometrix for its users.</p>

<p>The Kronometrix API can be accessed over HTTP or HTTPS, using standard POST requests. The examples in this documentation will use standard HTTP, but using HTTPS should be straightforward.</p>

<h1 id="accessing-the-api">Accessing the API</h1>

<blockquote>
<p>HTTP POST Request:</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/get_subscriptions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">192.168.2.56</span>
<span class="na">Token</span><span class="p">:</span> <span class="s">8c24562ce3ae7812ef709934b7858b03</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight plaintext"><code>401 Unauthorized

{
  "error": "Invalid token"
}
</code></pre>

<p>To access the API you will have to use one of the two authentication methods:</p>

<ul>
<li>using an <em>API Token</em> </li>
<li>using basic authentication</li>
</ul>

<p>The response from the server will be <code class="prettyprint">200 OK</code> in case of success, or an http error code in case of failure. The body of the response will consist of a string with JSON-encoded data, with various fields in case of succes, or a description of the error in case of failure.</p>

<h1 id="authentication">Authentication</h1>

<h2 id="authentication-with-username-amp-password-and-with-token">Authentication with username &amp; password and with token</h2>

<p>To authentication with the Kronometrix server using the API you can use one of the two authentication methods:</p>

<ul>
<li>using an <em>API Token</em> (recommended)</li>
<li>using basic authentication</li>
</ul>

<h3 id="using-an-api-token">Using an API Token</h3>

<blockquote>
<p>API Token authentication</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/get_subscriptions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">192.168.2.56</span>
<span class="na">Token</span><span class="p">:</span> <span class="s">8c24562ce3ae7812ef709934b7858b03</span>
</code></pre>

<p>The recommended authentication method is the one using an API Token. This method is more secure and also offers better performance.</p>

<p>This method consists of using an API Token with every HTTP request you make to the API. The token must be present in the API request&rsquo;s <strong>header</strong> under the field name &ldquo;Token&rdquo;:</p>

<p><code class="prettyprint">Token: &lt;api_token&gt;</code></p>

<p>The API Token can be obtained by logging in Kronometrix and accessing the section <em>Settings -&gt; API Tokens</em>. You can generate multiple API Tokens and name them according to their uses. The API Tokens are related only with your user account and will allow access only to your subscriptions and datasources, according to the set up visibility.</p>

<h3 id="using-basic-authentication">Using basic authentication</h3>

<blockquote>
<p>Basic authentication</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/get_subscriptions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">192.168.2.56</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6cGFzc3dvcmQ=</span>
</code></pre>

<p>The second authentication method is the one using &ldquo;basic authentication&rdquo;. With this method, you can use your username and password directly to make API requests. This method is less secure because it sends authentication information in plain text. Also, it is less performant server-side.</p>

<p>All examples below will use API Token authentication, but basic authentication can also be used.</p>

<h2 id="create-new-api-token">Create new API Token</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "token_name": "The token name"
    }
}'</span> <span class="s2">"http://&lt;kronometrix_url&gt;/api/create_token"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronometrix_url&gt;/api/create_token'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "token_name": "The token name"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"token_name\": \"The token name\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronometrix_url&gt;/api/create_token"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b3442fa2c7730d78a52497e37598e56c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>It is possible to create a new API Token using this API call:</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/create_token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>token_name</td>
<td>The name of the token to be created</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The API Token that has been created</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>The newly created API Token</td>
</tr>
</tbody></table>

<h2 id="delete-api-token">Delete API Token</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "token": "477f78c737e6300e52184f1e31f29942"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/delete_token"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/delete_token'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "token": "477f78c737e6300e52184f1e31f29942"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"token\": \"477f78c737e6300e52184f1e31f29942\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/delete_token"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"removed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"477f78c737e6300e52184f1e31f29942"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can delete existing API tokens using this API call:</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/delete_token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>The token to be deleted</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The API Token that has been deleted</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>removed</td>
<td>The deleted API Token</td>
</tr>
</tbody></table>

<p>If the token didn&rsquo;t exist, it will still appear as if it has been deleted (so you will get no error from trying to delete an inexistent token)</p>

<h1 id="provisioning">Provisioning</h1>

<h2 id="list-subscriptions">List subscriptions</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> <span class="s2">"http://&lt;kronometrix_url&gt;/api/get_subscriptions"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronometrix_url&gt;/api/get_subscriptions'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronometrix_url&gt;/api/get_subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_role"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"owner"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"998d1bd7d61e8850952902c3bc3a81f1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"monitoring_object_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Computer Performance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is an example subscription"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_role"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08b861f5919722505166b81f95fde672"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"monitoring_object_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web Application Framework Performance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Web Subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retreives the list of subscriptions the user has access to, with associated informations.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_subscriptions</code></p>

<p><em>No parameters needed</em></p>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array corresponding to a subscription and having these fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the subscription</td>
</tr>
<tr>
<td>name</td>
<td>The name of the subscription</td>
</tr>
<tr>
<td>description</td>
<td>The description of the subscription</td>
</tr>
<tr>
<td>monitoring_object</td>
<td>The ID of the monitoring object</td>
</tr>
<tr>
<td>monitoring_object_name</td>
<td>The name of the monitoring object</td>
</tr>
<tr>
<td>user_role</td>
<td>Array of roles the user has for this subscription</td>
</tr>
</tbody></table>

<h2 id="create-new-subscription">Create new subscription</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "name": "Name of the subscription",
        "description": "The description of the API-created subscription",
        "type": "wpd"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/create_subscription"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/create_subscription'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "name": "Name of the subscription",
        "description": "The description of the API-created subscription",
        "type": "wpd"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"name\": \"Name of the subscription\",\n        \"description\": \"The description of the API-created subscription\",\n        \"type\": \"wpd\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/create_subscription"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a332f210e37bb8c2a928bccd5423e33"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows the user to create a new subscription of a specified type.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/create_subscription</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the new subscription</td>
</tr>
<tr>
<td>description</td>
<td>A description of the new subscription (optional)</td>
</tr>
<tr>
<td>type</td>
<td>The type of the new subscription</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The ID of the new subscription</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>subscription_id</td>
<td>The ID of the new subscription</td>
</tr>
</tbody></table>

<h2 id="delete-subscription">Delete subscription</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "5a332f210e37bb8c2a928bccd5423e33"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/delete_subscription"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/delete_subscription'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "5a332f210e37bb8c2a928bccd5423e33"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"5a332f210e37bb8c2a928bccd5423e33\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/delete_subscription"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"removed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a332f210e37bb8c2a928bccd5423e33"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows the user to delete an existing subscription. </p>

<aside class="warning">
Attention! This operation can&rsquo;t be reverted, so use with care!
</aside>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/delete_subscription</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>The ID of the subscription to be deleted</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The ID of the subscription that has been deleted</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>removed</td>
<td>The ID of the subscription that has been deleted</td>
</tr>
</tbody></table>

<h2 id="rename-subscription">Rename subscription</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "4be4d9aef4ed832301e331c30ab88e5d",
        "name": "Another name",
        "description": "Edited description"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/rename_subscription"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/rename_subscription'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "4be4d9aef4ed832301e331c30ab88e5d",
        "name": "Another name",
        "description": "Edited description"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"4be4d9aef4ed832301e331c30ab88e5d\",\n        \"name\": \"Another name\",\n        \"description\": \"Edited description\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/rename_subscription"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"renamed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4be4d9aef4ed832301e331c30ab88e5d"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint provides the user with the possibility to change the name of the subscription, or its description.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/rename_subscription</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID to be renamed</td>
</tr>
<tr>
<td>name</td>
<td>The new name of the subscription</td>
</tr>
<tr>
<td>description</td>
<td>The new description of the subscription (optional)</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The ID of the subscription that has been renamed</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>renamed</td>
<td>The ID of the subscription that has been renamed</td>
</tr>
</tbody></table>

<h2 id="list-datasources">List datasources</h2>

<p>This endpoint retreives the list of datasources which correspond to a subscription and which can be accessed by the user.</p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "&lt;subscription_id&gt;"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_ds"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronometrix_url&gt;/api/get_ds'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "&lt;subscription_id&gt;"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"&lt;subscription_id&gt;\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronometrix_url&gt;/api/get_ds"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"527debbd-c89b-5ea9-8052-ea8a4ae93cee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ds-name1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpd"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566ac121-59c7-509d-92e0-028b3c8d6154"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other-ds"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpd"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_ds</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID for which to query for datasources</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array corresponding to a datasource and having these fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the datasource</td>
</tr>
<tr>
<td>name</td>
<td>The name of the datasource</td>
</tr>
<tr>
<td>monitoring_object</td>
<td>The ID of the monitoring object</td>
</tr>
</tbody></table>

<h2 id="search-datasources">Search datasources</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "search": "te"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/search_ds"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/search_ds'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "search": "te"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"search\": \"te\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/search_ds"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1153f37-57f5-5046-b117-ac195faff39a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tethys"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint offers the users the possibility to search for a datasource in a subscription by datasource name or ID. The call will return a list of datasources that contain the search string in their name or ID.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/search_ds</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID in which to search for datasources</td>
</tr>
<tr>
<td>search</td>
<td>The search term (part of the datasource&rsquo;s name or ID)</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array corresponding to a datasource and having these fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the datasource</td>
</tr>
<tr>
<td>name</td>
<td>The name of the datasource</td>
</tr>
<tr>
<td>monitoring_object</td>
<td>The ID of the monitoring object</td>
</tr>
</tbody></table>

<h2 id="delete-datasources">Delete datasources</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "datasources": [
            "b2fadd11-f143-529f-bd97-5f5e30b19499",
            "527debbd-c89b-5ea9-8052-ea8a4ae93cee"
        ]
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/delete_ds"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/delete_ds'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "datasources": [
            "b2fadd11-f143-529f-bd97-5f5e30b19499",
            "527debbd-c89b-5ea9-8052-ea8a4ae93cee"
        ]
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"datasources\": [\n            \"b2fadd11-f143-529f-bd97-5f5e30b19499\",\n            \"527debbd-c89b-5ea9-8052-ea8a4ae93cee\"\n        ]\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/delete_ds"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"b2fadd11-f143-529f-bd97-5f5e30b19499"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"527debbd-c89b-5ea9-8052-ea8a4ae93cee"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows the user to delete one or many datasources in a subscription. </p>

<aside class="warning">
Attention! This operation can&rsquo;t be reverted, so use with care!
</aside>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/delete_ds</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>The ID of the subscription from which to delete the datasources</td>
</tr>
<tr>
<td>datasources</td>
<td>An array of datasource IDs</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The list of datasource IDs that have been deleted</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>deleted</td>
<td>An array of datasource IDs that have been deleted</td>
</tr>
</tbody></table>

<h2 id="list-devices-of-a-datasource">List devices of a datasource</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "e03b7160-f82b-5125-871b-3567e76cb190"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_ds_devices"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_ds_devices'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "e03b7160-f82b-5125-871b-3567e76cb190"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"dsid\": \"e03b7160-f82b-5125-871b-3567e76cb190\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_ds_devices"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"eth0"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-nicrec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sda2"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-diskrec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"cpu0"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-cpurec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sda1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-diskrec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"cpu1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-cpurec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sda5"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-diskrec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sda"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-diskrec"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"linux-sysrec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"linux-hdwrec"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint returns the list of devices and associated messages, for a certain datasource.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_ds_devices</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>The ID of the subscription in which the datasource resides</td>
</tr>
<tr>
<td>dsid</td>
<td>The ID of the datasource</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded hash table, with each key representing a device ID, and the corresponding value consisting of an array of message names for that device.</p>

<h2 id="send-data">Send data</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -H <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span> -d <span class="s1">'payload=win-sysrec:9ee583c7d0a8b314c947dccfdcd922ca:TEST:system:1458174060:0.17:0.00:0.00:0.09:0.09:99.61:0.01:0.00:49:790:34.20:5627684:10826808:16454492:65.80:0.00:0:2490368:2490368:0:0.00:0:9:146.42:0:0:0:9:146.42:8:1.23:0:0:5:0.59:0:0:14:1.82:48aae8722de9a0f1b50b906ee32c69f888ee7b2deaf42e3133ec6dbece4ba31b'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/private/send_data"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/private/send_data'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'content-type'</span> <span class="o">=&gt;</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setContentType</span><span class="p">(</span><span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setPostFields</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'payload'</span> <span class="o">=&gt;</span> <span class="s1">'win-sysrec:9ee583c7d0a8b314c947dccfdcd922ca:TEST:system:1458174060:0.17:0.00:0.00:0.09:0.09:99.61:0.01:0.00:49:790:34.20:5627684:10826808:16454492:65.80:0.00:0:2490368:2490368:0:0.00:0:9:146.42:0:0:0:9:146.42:8:1.23:0:0:5:0.59:0:0:14:1.82:48aae8722de9a0f1b50b906ee32c69f888ee7b2deaf42e3133ec6dbece4ba31b'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/x-www-form-urlencoded"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"payload=win-sysrec%3A9ee583c7d0a8b314c947dccfdcd922ca%3ATEST%3Asystem%3A1458174060%3A0.17%3A0.00%3A0.00%3A0.09%3A0.09%3A99.61%3A0.01%3A0.00%3A49%3A790%3A34.20%3A5627684%3A10826808%3A16454492%3A65.80%3A0.00%3A0%3A2490368%3A2490368%3A0%3A0.00%3A0%3A9%3A146.42%3A0%3A0%3A0%3A9%3A146.42%3A8%3A1.23%3A0%3A0%3A5%3A0.59%3A0%3A0%3A14%3A1.82%3A48aae8722de9a0f1b50b906ee32c69f888ee7b2deaf42e3133ec6dbece4ba31b"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/private/send_data"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/x-www-form-urlencoded"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight html"><code>OK
</code></pre>

<p>This is the API call through which data enter Kronometrix. All datasources send data using this API call. This API call <strong>supports only token-based authentication</strong>!</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/private/send_data</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>The message to be processed by Kronometrix</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The text <code class="prettyprint">OK</code> in case of success (with HTTP code <code class="prettyprint">200 OK</code>), or a text describing the error in case another HTTP code is received (thus denoting a failure).</p>

<h3 id="general-considerations">General considerations</h3>

<ul>
<li>the authentication method for this call must be token-based (basic authentication doesn&rsquo;t work)</li>
<li>the payload is sent as a <code class="prettyprint">x-www-form-url-encoded</code> field (not as JSON-encoded data structure, like for the other API endpoints)</li>
<li>some messages require to have a hash at the end. Generally, <em>sha256</em> hashing algorithm is used. This last field must contain the hash for the entire message up until the last separator</li>
</ul>

<h3 id="payload-format">Payload format</h3>

<p>The payload contains a single message which is transmitted to Kronometrix. All messages are defined within the Kronometrix platform and are uniquely identified by their <code class="prettyprint">message_id</code>. </p>

<p>A message is composed of multiple fields separated by a character, which also is defined within the Kronometrix platform. The separator character is a property of the message. 
As a general recommendation, we propose the use of characters <code class="prettyprint">:</code> or <code class="prettyprint">;</code> as separators (keep in mind that the character <code class="prettyprint">:</code> can be also found in the ISO formatted date field, so in this case the character <code class="prettyprint">;</code> is recommended). </p>

<p>The order of the fields is also defined in the platform as a characteristic of the message. The only restriction here is that the message <strong>must always begin with the message ID</strong>. The rest of the fields can be defined in any order, but the order in which the fields are specified in the message definition must be the same as the order in which the fields appear in the sent message.</p>

<p>A message is composed of the following fields:</p>

<ul>
<li><strong>message_id</strong>: the ID of the message. This ID uniquely identifies the message within the platform. The message <strong>must always begin with the message ID</strong>.</li>
<li><strong>sid</strong>: the subscription ID. All messages must have this field.</li>
<li><strong>dsid</strong>: the ID of the datasource. All messages must have this field. Datasources are provisioned (created) when the first message with a new <code class="prettyprint">dsid</code> is received. Then, to send data for the same datasource, you must use the same <code class="prettyprint">dsid</code>.</li>
<li><strong>dev_id</strong>: the ID of the device. All messages must have this field. A datasource can have multiple devices (for example, for a computer, which is regarded as a datasource, you can have multiple devices, like <em>CPU0</em>, <em>CPU1</em>, <em>disk_c</em> etc.). If you don&rsquo;t want to use this feature, you can use a generic device ID, like <code class="prettyprint">system</code></li>
<li><strong>timestamp</strong>: the timestamp of the message. The timestamp can be specified as a UNIX timestamp (like the one in the example - the number of seconds since 1.01.1970) or as an ISO formatted date: <code class="prettyprint">2016-09-27 18:50:07</code></li>
<li>various fields of type &ldquo;numeric&rdquo;, &ldquo;counter&rdquo;, &ldquo;inventory&rdquo;, &ldquo;metadata&rdquo;, &ldquo;status&rdquo; or &ldquo;instrument&rdquo;:

<ul>
<li><em>numeric</em>: a numeric field, which is processed for generating all statistics defined in the message. The field is also stored in the raw data file</li>
<li><em>counter</em>: a numeric field which contains the sum of the values until the current moment. When received, it is processed as a difference between this value and the previous received value. The field is also stored in the raw data file</li>
<li><em>inventory</em>: a general text field which is recorded as a &ldquo;property&rdquo; of the datasource. It can contain, for example, the host name, the OS name or version etc. The field is also stored in the raw data file</li>
<li><em>metadata</em>: a general text field which sets one of the following object properties: <em>datasource name</em>, <em>datasource description</em>. The field is also stored in the raw data file only if it is defined as <code class="prettyprint">ds_name_log</code> (for setting the datasource name)</li>
<li><em>status</em>: a general text field which contains a status information. The possible values for this field are defined in the message definition. When received, Kronometrix calculates what percent of the time is spent for each status value. The field is also stored in the raw data file</li>
<li><em>instrument</em>: a numeric field, similar with the type <em>numeric</em>, but which is <strong>not</strong> stored in the raw data file </li>
</ul></li>
<li><strong>hash</strong>: this field is optional (there are some messages which are defined without a hash field). It contains a hash (of type SHA256) of the entire message, without the hash field and the separator before it. The hash field must always be the last field in the message. </li>
</ul>

<h2 id="send-bulk-data">Send bulk data</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"token: &lt;api_token&gt;"</span> -H <span class="s2">"message-id: &lt;message_id&gt;"</span> -H <span class="s2">"subscription-id: &lt;subscription_id&gt;"</span> -H <span class="s2">"datasource-id: &lt;datasource_id&gt;"</span> -H <span class="s2">"device-id: &lt;device_id&gt;"</span> -d <span class="s1">'&lt;payload&gt;'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/private/send_data_bulk"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/private/send_data_bulk'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'device-id'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;device_id&gt;'</span><span class="p">,</span>
  <span class="s1">'datasource-id'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;datasource_id&gt;'</span><span class="p">,</span>
  <span class="s1">'subscription-id'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;subscription_id&gt;'</span><span class="p">,</span>
  <span class="s1">'message-id'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;message_id&gt;'</span><span class="p">,</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'&lt;payload&gt;'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"&lt;payload&gt;"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/private/send_data_bulk"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"message-id"</span><span class="o">,</span> <span class="s">"&lt;message_id&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"subscription-id"</span><span class="o">,</span> <span class="s">"subscription_id"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"datasource-id"</span><span class="o">,</span> <span class="s">"datasource_id"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"device-id"</span><span class="o">,</span> <span class="s">"device_id"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight html"><code>OK
</code></pre>

<p>This is the API call through which bulk data enter Kronometrix. Bulk data is the kind of generic data that is stored in Kronometrix as a file (raw data file), but <strong>it is not parsed in any way</strong>. This can be useful for uploading log dumps, binary data (e.g. images) or any other kind of big data.
This API call <strong>supports only token-based authentication</strong>!</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/private/send_data_bulk</code></p>

<table><thead>
<tr>
<th>Header field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>The API Token to be used for authentication</td>
</tr>
<tr>
<td>message-id</td>
<td>The ID of the message; this message must be defined as <code class="prettyprint">type=&quot;bulk&quot;</code> in the LMO</td>
</tr>
<tr>
<td>subscription-id</td>
<td>The ID of the subscription</td>
</tr>
<tr>
<td>datasource-id</td>
<td>The ID of the datasource</td>
</tr>
<tr>
<td>device-id</td>
<td>The ID of the device</td>
</tr>
<tr>
<td>hash</td>
<td>An <em>sha256</em> hash of the payload (<em>optional</em>)</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The text <code class="prettyprint">OK</code> in case of success (with HTTP code <code class="prettyprint">200 OK</code>), or a text describing the error in case another HTTP code is received (thus denoting a failure).</p>

<h3 id="general-considerations">General considerations</h3>

<ul>
<li>all the <strong>header</strong> fields, except &ldquo;hash&rdquo;, are <strong>required</strong></li>
<li>the <strong>body</strong> of the request contains the <strong>payload</strong>; the size of the payload can be limited in the LMO (<code class="prettyprint">request-max-size</code>)</li>
<li>the LMO field <code class="prettyprint">content-storage</code> defines if the latest payload received will overwrite the older content or it will be appended</li>
</ul>

<h1 id="summary-statistics">Summary statistics</h1>

<h2 id="list-message-statistics">List message statistics</h2>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "message": "&lt;message_id&gt;"
    }
}'</span> <span class="s2">"http://&lt;kronometrix_url&gt;/api/get_msg_stats"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronometrix_url&gt;/api/get_msg_stats'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "message": "&lt;message_id&gt;"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"message\": \"&lt;message_id&gt;\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronometrix_url&gt;/api/get_msg_stats"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"monitoring_object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linux-sysrec"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpupct"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"functions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"MAX"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"SUM"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"COUNT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"MIN"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"memusedpct"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"functions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"MAX"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"SUM"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"COUNT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"MIN"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">21600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">43200</span><span class="p">,</span><span class="w"> </span><span class="mi">900</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">86400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">259200</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">604800</span><span class="p">,</span><span class="w"> </span><span class="mi">10800</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">2592000</span><span class="p">,</span><span class="w"> </span><span class="mi">43200</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">7776000</span><span class="p">,</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint lists the available statistics with intervals for a certain message. The message ID is the one listed for each device of the datasource.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_msg_stats</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>The message ID for which to obtain the available statistics and intervals</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded hash table with these fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>monitoring_object</td>
<td>The ID of the monitoring object</td>
</tr>
<tr>
<td>message</td>
<td>The message ID (same with the &ldquo;message&rdquo; parameter sent)</td>
</tr>
<tr>
<td>stats</td>
<td>An array of objects, each object (hash-table) having these fields: &ldquo;name&rdquo; = parameter name; &ldquo;functions&rdquo; = an array of functions (hash table).<br/>Each element of the &ldquo;functions&rdquo; hash has the aggregation function ID as key (&ldquo;MIN&rdquo;, &ldquo;MAX&rdquo;, &ldquo;SUM&rdquo;, &ldquo;COUNT&rdquo;, &ldquo;LAST&rdquo;, &ldquo;PERCENTILE&rdquo;) and an array of intervals as value.<br/>Each interval is an array of 2 elements, first element representing the interval width in seconds, and the second element representing the resolution in seconds.</td>
</tr>
</tbody></table>

<h2 id="list-summary-statistics-functions">List summary statistics functions</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_stats"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_stats'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_stats"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Library of Summary Statistics Functions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Includes Kronometrix summary statistics functions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"libssf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"functions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"MIN"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Min"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIN"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minimum value"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"formats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w"> </span><span class="nt">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Min([x1, x2, ...])"</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the minimum value from the array"</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"MAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maximum value"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"formats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w"> </span><span class="nt">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max([x1, x2, ...])"</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the maximum value from the array"</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="err">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint lists the available summary statistics functions available in Kronometrix.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_stats</code></p>

<p><em>No parameters needed</em></p>

<h3 id="response">Response</h3>

<p>A JSON-encoded hash describing the statistics functions library, with the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the library</td>
</tr>
<tr>
<td>description</td>
<td>A short description of the library</td>
</tr>
<tr>
<td>id</td>
<td>An internal library ID</td>
</tr>
<tr>
<td>functions</td>
<td>A hash of objects, each object (hash-table) having these fields: &ldquo;id&rdquo; = the ID of the function; &ldquo;name&rdquo; = the name (definition) of the function; &ldquo;description&rdquo; = a short description of the function; &ldquo;formats&rdquo; = an array with the available function formats</td>
</tr>
</tbody></table>

<h2 id="get-statistical-data">Get statistical data</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947882fdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "device": "system",
        "message": "win-sysrec",
        "param": "cpupct",
        "function": "AVG",
        "interval": "10800",
        "resolution": "60"
    }
}'</span> <span class="s2">"http://&lt;kronometrix_url&gt;/api/get_values"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronometrix_url&gt;/api/get_values'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947882fdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "device": "system",
        "message": "win-sysrec",
        "param": "cpupct",
        "function": "AVG",
        "interval": "10800",
        "resolution": "60"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947882fdcd922ca\",\n        \"dsid\": \"527debbd-c89b-5ea9-8052-ea8a4ae93cee\",\n        \"device\": \"system\",\n        \"message\": \"win-sysrec\",\n        \"param\": \"cpupct\",\n        \"function\": \"AVG\",\n        \"interval\": \"10800\",\n        \"resolution\": \"60\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronometrix_url&gt;/api/get_values"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1457441220000</span><span class="p">,</span><span class="w">
    </span><span class="mf">3.03</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1457441280000</span><span class="p">,</span><span class="w">
    </span><span class="mf">3.25</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1457441340000</span><span class="p">,</span><span class="w">
    </span><span class="mf">3.08</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1457441400000</span><span class="p">,</span><span class="w">
    </span><span class="mf">2.91</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint lists statistical data for the required datasource, device, message, parameter, function, interval and resolution.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_values</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID</td>
</tr>
<tr>
<td>dsid</td>
<td>Datasource ID</td>
</tr>
<tr>
<td>device</td>
<td>Device ID</td>
</tr>
<tr>
<td>message</td>
<td>Message ID</td>
</tr>
<tr>
<td>param</td>
<td>Parameter name</td>
</tr>
<tr>
<td>function</td>
<td>Aggregation function</td>
</tr>
<tr>
<td>interval</td>
<td>Interval width</td>
</tr>
<tr>
<td>resolution</td>
<td>Resolution</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array being an array of 2 elements, the first element representing <strong>the unix timestamp in milliseconds</strong> (multiplied by 1000), and the second element representing the value of the parameter for that timestamp. The second value may be <em>null</em>, which means that there is not an available value for that timestamp.</p>

<h1 id="raw-data">Raw data</h1>

<h2 id="list-raw-data-files">List raw data files</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "date": "2016-03-16"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/list_raw_data_files"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/list_raw_data_files'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "date": "2016-03-16"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"dsid\": \"527debbd-c89b-5ea9-8052-ea8a4ae93cee\",\n        \"date\": \"2016-03-16\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/list_raw_data_files"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nicrec.e1iexpress.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu2.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu5.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hdwrec.system.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"126 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu7.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu0.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu6.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"diskrec.diskC.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"diskrec.diskD.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"116 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu1.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu3.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpurec.cpu4.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59 KB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sysrec.system.2016-03-16.krd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"263 KB"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint lists the available raw data files for a certain date (day). Please note that the date is in <code class="prettyprint">yyyy-mm-dd</code> format!</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/list_raw_data_files</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID</td>
</tr>
<tr>
<td>dsid</td>
<td>Datasource ID</td>
</tr>
<tr>
<td>date</td>
<td>The date for which to list files</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array being a hash table with two elements: <em>file</em> = the file name; <em>size</em> = the file size. </p>

<h2 id="download-raw-data-file">Download raw data file</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "file": "sysrec.system.2016-03-16.krd"
    }
}'</span> <span class="s2">"http://&lt;kronometrix_url&gt;/api/get_raw_data_file"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_raw_data_file'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "sid": "9ee583c7d0a8b314c947dccfdcd922ca",
        "dsid": "527debbd-c89b-5ea9-8052-ea8a4ae93cee",
        "file": "sysrec.system.2016-03-16.krd"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"sid\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"dsid\": \"527debbd-c89b-5ea9-8052-ea8a4ae93cee\",\n        \"file\": \"sysrec.system.2016-03-16.krd\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_raw_data_file"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight plaintext"><code>1458086400:0.58:0.00:0.00:0.30:0.28:98.63:0.01:0.00:74:1342:41.54:6834524:9619968:16454492:58.46:0.73:18064:2472304:2490368:0:5.41:0:11:188.44:0:0:0:11:193.85:11:2.89:0:0:7:0.80:0:0:18:3.69
1458086460:0.43:0.00:0.00:0.24:0.19:98.84:0.00:0.00:74:1339:41.52:6832560:9621932:16454492:58.48:0.73:18064:2472304:2490368:0:0.00:0:10:169.21:0:0:0:10:169.21:9:1.27:0:0:6:0.64:0:0:15:1.91
1458086520:0.43:0.00:0.00:0.27:0.15:98.77:0.00:0.00:74:1325:41.49:6827092:9627400:16454492:58.51:0.73:18064:2472304:2490368:0:1.34:0:10:143.63:0:0:0:10:144.97:10:2.30:0:0:6:0.67:0:0:17:2.97
1458086580:0.42:0.00:0.00:0.24:0.19:98.78:0.01:0.00:75:1317:41.49:6826668:9627824:16454492:58.51:0.73:18064:2472304:2490368:1:17.34:0:13:180.12:0:0:0:14:197.46:9:1.23:0:0:6:0.63:0:0:15:1.86
1458086642:0.78:0.00:0.00:0.33:0.46:98.41:0.02:0.00:74:1321:41.60:6845692:9608800:16454492:58.40:0.73:18064:2472304:2490368:0:0.26:0:20:662.37:0:0:0:20:662.63:10:2.35:0:0:7:0.72:0:0:18:3.07
...
</code></pre>

<p>This endpint allows users to download a raw data file.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_raw_data_file</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td>Subscription ID</td>
</tr>
<tr>
<td>dsid</td>
<td>Datasource ID</td>
</tr>
<tr>
<td>file</td>
<td>File name to download</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The file content</p>

<h1 id="widgets">Widgets</h1>

<h2 id="list-widgets">List widgets</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>
curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_widgets"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_widgets'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_widgets"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bc34d59ea95b38992569b9ac79e37b32"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ee583c7d0a8b314c947dccfdcd922ca"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Computer Performance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"val"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566ac121-59c7-509d-92e0-028b3c8d6154:system:linux-sysrec:cpupct:LAST:300:300"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gauge"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"gauge_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#55af0f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"gauge_aswidget"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPU Gauge"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"7a550181d038429b1dd4f8ccbc1ac758"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ee583c7d0a8b314c947dccfdcd922ca"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Computer Performance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"val"</span><span class="p">:</span><span class="w"> </span><span class="s2">"527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:cpupct:AVG:10800:60"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#619639"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"val"</span><span class="p">:</span><span class="w"> </span><span class="s2">"527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:memusedpct:AVG:10800:60"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#0e74b2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chart"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chart_aswidget"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chart_haslegend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chart_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPU &amp; Memory utilization"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in %"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint lists the available widgets for the current user, with associated information.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_widgets</code></p>

<p><em>No parameters needed</em></p>

<h3 id="response">Response</h3>

<p>A JSON-encoded array, each element of the array corresponding to a widget, having as the key the widget ID and containing these fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the widget</td>
</tr>
<tr>
<td>description</td>
<td>The description of the widget</td>
</tr>
<tr>
<td>subscription_id</td>
<td>The ID of the subscription</td>
</tr>
<tr>
<td>subscription_name</td>
<td>The name of the subscription</td>
</tr>
<tr>
<td>params</td>
<td>An array of params, each element having as key the name of the param (unique) and as value a hash-table with the elements &ldquo;val&rdquo; having the param&rsquo;s value and &ldquo;color&rdquo; having the line color (color needed only for chart widgets)</td>
</tr>
<tr>
<td>settings</td>
<td>A hash-table containing at least one element - &ldquo;type&rdquo;, which can be &ldquo;chart&rdquo;, &ldquo;indicator&rdquo; or &ldquo;gauge&rdquo;; the rest of the hash&rsquo;s elements are dependant on the type of the widget</td>
</tr>
</tbody></table>

<h2 id="create-new-widget">Create new widget</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "name": "API-created widget",
        "description": "The description of the API-created widget",
        "subscription_id": "9ee583c7d0a8b314c947dccfdcd922ca",
        "params": {
            "cpu": {"val": "527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:cpupct:AVG:10800:60", "color": "#D40B51"},
            "memory": {"val": "527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:memusedpct:AVG:10800:60", "color": "#21C4B1"}
        },
        "settings": {
            "type": "chart",
            "chart_type": "line",
            "chart_aswidget": true,
            "chart_haslegend": true
        }
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/create_widget"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/create_widget'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "name": "API-created widget",
        "description": "The description of the API-created widget",
        "subscription_id": "9ee583c7d0a8b314c947dccfdcd922ca",
        "params": {
            "cpu": {"val": "527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:cpupct:AVG:10800:60", "color": "#D40B51"},
            "memory": {"val": "527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:memusedpct:AVG:10800:60", "color": "#21C4B1"}
        },
        "settings": {
            "type": "chart",
            "chart_type": "line",
            "chart_aswidget": true,
            "chart_haslegend": true
        }
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"name\": \"API-created widget\",\n        \"description\": \"The description of the API-created widget\",\n        \"subscription_id\": \"9ee583c7d0a8b314c947dccfdcd922ca\",\n        \"params\": {\n            \"cpu\": {\"val\": \"527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:cpupct:AVG:10800:60\", \"color\": \"#D40B51\"},\n            \"memory\": {\"val\": \"527debbd-c89b-5ea9-8052-ea8a4ae93cee:system:win-sysrec:memusedpct:AVG:10800:60\", \"color\": \"#21C4B1\"}\n        },\n        \"settings\": {\n            \"type\": \"chart\",\n            \"chart_type\": \"line\",\n            \"chart_aswidget\": true,\n            \"chart_haslegend\": true\n        }\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/create_widget"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"widget_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65102c8e86cd5ed2baf60ebf69b31d9e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows the user to create a new widget of a specified type, for a specified subscription.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/create_widget</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the new widget</td>
</tr>
<tr>
<td>description</td>
<td>The description for the new widget</td>
</tr>
<tr>
<td>subscription_id</td>
<td>The ID of the subscription for which the widget is created</td>
</tr>
<tr>
<td>params</td>
<td>A hash-table of parameters for this widget; the keys are paramater names, and the values have two elements:<ul><li><em>val</em> = the parameter value, with the format <br/><code>&lt;ds_id&gt;:&lt;device_id&gt;:&lt;message_id&gt;:&lt;parameter&gt;:&lt;stat&gt;:&lt;interval&gt;:&lt;resolution&gt;</code></li><li><em>color</em> = the parameter&rsquo;s line color; needed only for widgets of type <em>chart</em></li></ul></td>
</tr>
<tr>
<td>settings</td>
<td>A hash-table with the widget settings; each widget type has its own set of settings, as follows: <ul><li><strong>chart</strong>:<ul><li><em>type</em> = &ldquo;chart&rdquo;</li><li><em>chart_type</em> = &ldquo;line&rdquo; or &ldquo;stacked&rdquo;</li><li><em>chart_aswidget</em> = true/false - the control is displayed as widget or not</li><li><em>chart_haslegend</em> = true/false - the chart has a legend or not</li></ul></li><li><strong>gauge</strong>:<ul><li><em>type</em> = &ldquo;gauge&rdquo;</li><li><em>gauge_color</em> = the hex value of the color</li><li><em>gauge_aswidget</em> = true/false - the control is displayed as widget or not</li></ul></li><li><strong>indicator</strong>:<ul><li><em>type</em> = &ldquo;indicator&rdquo;</li><li><em>indicator_type</em> = &ldquo;plain&rdquo;, &ldquo;widget&rdquo; or &ldquo;colored&rdquo;</li><li><em>indicator_color</em> = the hex value of the color; needed only for <em>indicator_type</em>=&ldquo;colored&rdquo;</li><li><em>indicator_decimals</em> = the number of decimals; can be &ldquo;0&rdquo;, &ldquo;1&rdquo; or &ldquo;2&rdquo;</li><li><em>indicator_unit</em> = optional; a string with the indicator&rsquo;s unit</li></ul></li></ul></td>
</tr>
</tbody></table>

<aside class="info">
For the widgets of type <i>chart</i>, all parameters on a chart must have <b>the same interval and resolution</b>!
</aside>

<h3 id="response">Response</h3>

<p>The ID of the new widget</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>widget_id</td>
<td>The ID of the new widget</td>
</tr>
</tbody></table>

<h2 id="delete-widgets">Delete widgets</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "widgets": ["79a58bc264faa53967c532d43377fe38", "1415799bc10b5a1aae81ac862fde795b"]
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/delete_widgets"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/delete_widgets'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "widgets": ["79a58bc264faa53967c532d43377fe38", "1415799bc10b5a1aae81ac862fde795b"]
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"widgets\": [\"79a58bc264faa53967c532d43377fe38\", \"1415799bc10b5a1aae81ac862fde795b\"]\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/delete_widgets"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"79a58bc264faa53967c532d43377fe38"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1415799bc10b5a1aae81ac862fde795b"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows the user to delete one or many widgets of his own. </p>

<aside class="warning">
Attention! This operation can&rsquo;t be reverted, so use with care!
</aside>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/delete_widgets</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>widgets</td>
<td>An array of widget IDs</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The list of widget IDs that have been deleted</p>

<table><thead>
<tr>
<th>Field</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>deleted</td>
<td>An array of widget IDs that have been deleted</td>
</tr>
</tbody></table>

<h2 id="get-widget-embed-code">Get widget embed code</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> -d <span class="s1">'{
    "params": {
        "widget_id": "7a550181d038429b1dd4f8ccbc1ac758"
    }
}'</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_widget_embed_code"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_widget_embed_code'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="s1">'{
    "params": {
        "widget_id": "7a550181d038429b1dd4f8ccbc1ac758"
    }
}'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="s">"{\n    \"params\": {\n        \"widget_id\": \"7a550181d038429b1dd4f8ccbc1ac758\"\n    }\n}"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_widget_embed_code"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight html"><code><span class="nt">&lt;iframe</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"300"</span> <span class="na">frameborder=</span><span class="s">"0"</span> <span class="na">src=</span><span class="s">"http://&lt;kronometrix_url&gt;/widgets/&lt;uid&gt;/7a550181d038429b1dd4f8ccbc1ac758"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre>

<p>This endpoint provides the possibility to easily obtain the HTTP code to embed the widget on another web page.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_widget_embed_code</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td>widget_id</td>
<td>The ID of the widget to get the embed code for</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The HTML code to use in your web page to embed this widget</p>

<h1 id="info">Info</h1>

<h2 id="get-data-analytics-platform-information">Get data analytics platform information</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST -H <span class="s2">"Token: &lt;api_token&gt;"</span> <span class="s2">"http://&lt;kronomentrix_url&gt;/api/get_kinfo"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s1">'http://&lt;kronomentrix_url&gt;/api/get_kinfo'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="nx">HTTP_METH_POST</span><span class="p">);</span>

<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setHeaders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;api_token&gt;'</span>
<span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">HttpException</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$ex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"http://&lt;kronomentrix_url&gt;/api/get_kinfo"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"&lt;api_token&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"K500"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6.4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Architecture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"x64"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"K500 Development"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Last Updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Modules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"authenticator: kauth 1.6.4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kernel: kkernel 1.6.4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"messenger: kmesg 1.6.4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"monitor: kmon 1.6.4"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Manufactured"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon Jul 24 12:10:18 UTC 2017"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Vendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SDR Dynamics, Helsinki, Finland"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Registrant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"License"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint provides the possibility to list details about the Kronometrix installation.</p>

<h3 id="request">Request</h3>

<p><code class="prettyprint">http://&lt;kronometrix_url&gt;/api/get_kinfo</code></p>

<p><em>No parameters needed</em></p>

<h3 id="response">Response</h3>

<p>A JSON-encoded array with various details about the Kronometrix installation.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
